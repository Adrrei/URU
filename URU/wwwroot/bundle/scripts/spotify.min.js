function getSpotifyPlaytime(){var n=new XMLHttpRequest;n.open("GET",uru.Urls.GetSpotifyPlaytime,!0);n.responseType="json";n.send();n.onload=function(){if(n.status===200){var i=n.response,r=parseInt(i.hours),t=0;setInterval(function(){t++>=r||(document.getElementById("spotify-playtime").textContent=t)},15)}}}function getSpotifyLatestAddition(){var n=new XMLHttpRequest;n.open("GET",uru.Urls.GetSpotifyPlaylists,!0);n.responseType="json";n.send();n.onload=function(){var i,t,u,r,f,e;if(n.status===200){i=n.response;t=document.createElement("iframe");t.src="https://open.spotify.com/embed/track/"+i.exquisiteEdm.items[0].track.id;t.height=80;t.width=300;document.getElementById("spotify-latest-addition").appendChild(t);u=parseInt(i.exquisiteEdm.total);r=0;setInterval(function(){r++>=u||(document.getElementById("spotify-exquisite-total").textContent=r)},1);f=document.getElementById("table-wrapper").getElementsByTagName("tbody")[0];for(let[n,t]of Object.entries(i.playlists))e='<tr><th class="left">'+n+'<\/th><td class="right">'+t+"<\/td><\/tr>",f.innerHTML+=e}}}function resetGetSpotifyFavorites(){document.getElementById("cards").innerHTML="";getSpotifyFavorites(0)}function getSpotifyFavorites(n){var i=new XMLHttpRequest,u,t,r;i.open("GET",uru.Urls.GetSpotifyFavorites,!0);i.responseType="json";i.send();u=document.getElementById("cards");for(let n=0;n<5;n++)t=new Image,t.onload=function(){u.src=this.src},r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t.src=r>580?"/content/images/Spotify-240x240.png":r>344?"/content/images/Spotify-320x80.png":r>320?"/content/images/Spotify-300x80.png":"/content/images/Spotify-260x80.png",t.classList.add("spotify-card-margin"),u.appendChild(t);i.onload=function(){var f,e,o;if(i.status===200){var t=i.response,r=t.favorites,u=document.getElementById("spotify-exquisite-uri");u.setAttribute("href",t.exquisiteEdmUri);u.textContent=t.exquisiteEdmName;f=document.getElementById("spotify-exquisite-name");f.textContent=t.exquisiteEdmName;e=document.getElementById("spotify-favorites-count");e.textContent=r.length;o=document.getElementById("cards").childNodes;r.forEach(function(t){var i=document.createElement("iframe");i.src="https://open.spotify.com/embed/track/"+t.track.id;i.height=240;i.width=240;document.getElementById("cards").replaceChild(i,o[n++])})}}}window.onload=function(){getSpotifyLatestAddition();getSpotifyFavorites(1);getSpotifyPlaytime()};