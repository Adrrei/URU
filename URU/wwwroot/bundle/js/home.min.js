"use strict";function preloadSpotify(){if(handleLocalStorage(),(new Image).src="/content/images/Sunrise.jpg",!getItemFromStorage("Playtime")){try{fetch("/Spotify/GetIdDurationArtists").then(function(n){return n.json()}).then(function(n){setItemInStorage("Playtime",{hours:n.time});setItemInStorage("Artists",{artists:n.artists})})}catch(n){}try{fetch("/Spotify/GetTracksByYear").then(function(n){return n.json()}).then(function(n){setItemInStorage("TracksByYear",{tracks:n.tracksByYear})})}catch(n){}try{fetch("/Spotify/GetGenres").then(function(n){return n.json()}).then(function(n){setItemInStorage("Genres",{genres:n.genres})})}catch(n){}try{fetch("/Spotify/GetFavorites").then(function(n){return n.json()}).then(function(n){setItemInStorage("Favorites",{favorites:n.favorites})})}catch(n){}}}function handleLocalStorage(){let t=getItemFromStorage("Reset");if(t){var i=new Date,r=new Date(t.date);if(i>r)localStorage.clear();else return}let n=new Date;n.setHours(n.getHours()+3);setItemInStorage("Reset",{date:n})}function setItemInStorage(n,t){localStorage.setItem(n,JSON.stringify(t))}function getItemFromStorage(n){let t=localStorage.getItem(n);return t?JSON.parse(t):null}document.addEventListener("DOMContentLoaded",function(){let n=document.getElementById("info"),u=document.getElementById("info-localize");n.title="ar@uru.no";n.href="mailto:"+n.title;u.textContent=n.title;preloadSpotify();let i=document.getElementById("toggle-about");i.addEventListener("click",function(){let n=document.getElementById("wrapper"),i=document.getElementById("projects"),t=document.getElementById("about");setItemInStorage("sidebar","about");n.classList.contains("use-sidebar")&&!t.classList.contains("hidden")?(n.classList.remove("use-sidebar"),t.classList.add("hidden"),localStorage.removeItem("sidebar")):(n.classList.add("use-sidebar"),t.classList.remove("hidden"),i.classList.add("hidden"))});let r=document.getElementById("toggle-projects");r.addEventListener("click",function(){let n=document.getElementById("wrapper"),t=document.getElementById("projects"),i=document.getElementById("about");setItemInStorage("sidebar","projects");n.classList.contains("use-sidebar")&&!t.classList.contains("hidden")?(n.classList.remove("use-sidebar"),t.classList.add("hidden"),localStorage.removeItem("sidebar")):(n.classList.add("use-sidebar"),t.classList.remove("hidden"),i.classList.add("hidden"))});let t=getItemFromStorage("sidebar");t&&(t==="about"?i.click():t==="projects"&&r.click())});